<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Redirecting to Download...</title>
</head>
<body>
  <p>Opening ad... Please wait.</p>

  <script>
    const adLink = localStorage.getItem("adLink");
    const downloadLink = localStorage.getItem("pendingDownload");

    if (!adLink || !downloadLink) {
      document.body.innerHTML = "<p>Something went wrong. Please go back and try again.</p>";
    } else {
      // Open Ad in new tab
      window.open(adLink, "_blank");

      // Wait 3 seconds, then redirect to download
      setTimeout(() => {
        localStorage.removeItem("pendingDownload");
        localStorage.removeItem("adLink");
        window.location.href = downloadLink;
      }, 3000);
    }
  </script>
</body>
</html>
